<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Document</title>
    </head>

    <body>
        <button>按钮</button>
        <ul class="nav">
            <li>123</li>
            <li>234</li>
            <li>345</li>
            <li>456</li>
        </ul>
        <script>
            function fn() {
                var num = 10;
                return function () {
                    console.log(num)
                }
            }

            var f = fn();
            f();

            var lis = document.querySelector('.nav').querySelectorAll("li");
            // for (var i = 0; i < lis.length; i++) {
            //     lis[i].index = i;
            //     lis[i].onclick = function () {
            //         console.log(i); //点击事件是异步任务，for循环是同步任务，所以是4
            //         console.log(this.index);
            //     }
            // }

            //点击后将i作为参数传到函数里面。传到立即执行函数内部
            for (var i = 0; i < lis.length; i++) {
                (function (i) {
                    lis[i].onclick = function () {
                        console.log(i);
                    }
                })(i);
            }
        </script>
    </body>
</html>